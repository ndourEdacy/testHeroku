
 <div class="row wow fadeIn mt-5">
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header">
            Profile client
          </div>
      <!--Card content-->
      <div class="card-body">
    
        <!-- Table  -->
        <table class="table table-hover">
          <!-- Table head -->
          <thead class="blue-grey lighten-4">
            <tr>
              <th>Numero Compte</th>
              <th>Nom</th>
              <th>date naisssance</th>
              <th>Telephone</th>
              <th>CNI</th>
              
            </tr>
          </thead>
          <!-- Table head -->
    
          <!-- Table body -->
          <tbody *ngIf="client!=null">
            <tr>
              <td>{{client.numCompt}}</td>
              <td>{{client.nom}}</td>
              <td>{{client.dateNaiss}}</td>
              <td>{{client.phone}}</td>
              <td>{{client.cni}}</td>
              
            </tr>
           
          </tbody>
          <!-- Table body -->
        </table>
        <!-- Table  -->
        <button class="btn btn-primary" (click)="modifier(client.numCompt)">modifier</button>
        <button class="btn btn-success" (click)="voirProfil(client.numCompt)">voir profil</button>
      </div>
     
      
    </div>
    </div>
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header">
            Portefeuille
          </div>
      <!--Card content-->
      <div class="card-body">
        <div class="row">
          <div class="col-md-3">
           Portefeuille client:
          </div>
          <div class="col-md-3">
            {{portefeuilleClient.portefeuille}}  fcfa
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            liquidite:
          </div>
          <div class="col-md-3">
            {{portefeuilleClient.liquidite}}  fcfa
          </div>
        </div>
        <button class="btn btn-success" (click)="detailPortefeuille(client.numCompt);detailPorte.show()">Voir detail portefeuille</button>
      </div>
    
    </div>
    <div class="row">
      <button class="btn btn-primary" (click)="ajouterReclamention(client.id);AddReclamention.show()">Ajouter une reclamation</button>
      <button class="btn btn-primary" (click)="sideTopRight.show()" >Rattacher un document</button>
    </div>
    </div>
 </div>

 <div class="row wow fadeIn mt-5">

  <!--Grid column-->
  
  <div class="col-md-9 mb-4">

    <!--Card-->
    <div class="card">
        <div class="card-header">
            Rapport des operations sur le compte
        </div>
      <!--Card content-->
      <div class="card-body">

        <div style="display: block">
          <canvas mdbChart [chartType]="chart1Type" [datasets]="chartDatasets" [labels]="chartLabels" [colors]="chartColors" [options]="chartOptions"
            [legend]="true">
          </canvas>
        </div>
      </div>

    </div>
    <!--/.Card-->

  </div>

  
  <!--Grid column-->

  <!--Grid column-->
  <div class="col-md-3 mb-4">

    <!--Card-->
    <div class="card mb-4">

      <!-- Card header -->
      <div class="card-header text-center">
        Pie chart
      </div>

      <!--Card content-->
      <div class="card-body">

        <div style="display: block">
          <canvas mdbChart [chartType]="chart2Type" [datasets]="chartDatasets" [labels]="chartLabels" [colors]="chartColors" [options]="chartOptions"
            [legend]="true">
          </canvas>
        </div>
      </div>

    </div>
    
    <!--/.Card-->

    <!--Card-->
    <div class="card mb-4">

      <!--Card content-->
      <div class="card-body">

        <!-- List group links -->
        <div class="list-group list-group-flush">
          <a class="list-group-item list-group-item-action waves-effect">evolution Portefeuille
            <span class="badge badge-success badge-pill pull-right">22%
              <i class="fa fa-arrow-up ml-1"></i>
            </span>
          </a>
          <a class="list-group-item list-group-item-action waves-effect">montant titre achete
            <span class="badge badge-primary badge-pill pull-right"> {{montantAchat}} fcfa</span>
          </a>
          <a class="list-group-item list-group-item-action waves-effect">montant titre vendu
            <span class="badge badge-primary badge-pill pull-right"> {{montantVente}} fcfa</span>
          </a>
          <a class="list-group-item list-group-item-action waves-effect">montant subscription
            <span class="badge badge-primary badge-pill pull-right">{{montantSubscription}} fcfa</span>
          </a>
          <a class="list-group-item list-group-item-action waves-effect">Courtage CGF obtenu
              <span class="badge badge-primary badge-pill pull-right">{{courtagecgf}} fcfa</span>
            </a>
        </div>
        <!-- List group links -->

      </div>

    </div>
    <!--/.Card-->
     
    </div>

  
  <!--Grid column-->

</div>

<div class="row wow fadeIn">

    <!--Grid column-->
    
    <!--Grid column-->
    <div class="col-md-6 mb-4">
       
      
        <div class="card">
    
          <div class="card-header">
           
            <div class="row">
                <div class="col-md-10">
                    Note rattacher a ce client
                </div>
               
                <div class="col-md-1">
                    <span class="btn btn-primary" (click)="ajouterNote(client.numCompt)">
                        <i class="fa fa-plus"></i>
                    </span>
                </div>
              </div>
          </div>
          <div class="card-body">
    
           
            <table class="table table-hover">
          
              <thead class="blue lighten-4">
                <tr>
                 
                  <th>sujet</th>
                  <th>description</th>
                 
                </tr>
              </thead>
              <!-- Table head -->
    
              <!-- Table body -->
              <tbody *ngFor="let note of notes">
               
                    <tr  class="waves-light" data-toggle="modal" data-target="#basicExample" (click)="modif(tache.id);centralLarge.show()">
                      
                        
                        <td>{{note.sujet}}</td>
                        <td>{{note.description}}</td>
                        
                      </tr>
              
                
                
              </tbody>
              <!-- Table body -->
            </table>
            <!-- Table  -->
    
          </div>
    
        </div>
        <!--/.Card-->
    
      </div>
    <!--Grid column-->
    <div class="col-md-6 mb-4">
  
      
      <div class="card">
  
        <div class="card-header">
          
          <div class="row">
              <div class="col-md-5">
                  Tache rattacher a ce client
              </div>
              <div class="col-md-5">
                <form class="d-flex justify-content-center">
                  <!-- Default input -->
                  <input type="date" aria-label="Search" class="form-control" name="dateDebutTache" [(ngModel)]="dateDebutTache">
                  <button class="btn btn-primary btn-sm my-0 p" type="submit" (click)="chercherTache()">
                    <i class="fa fa-search"></i>
                  </button>
            
                </form>
              </div>
              <div class="col-md-1">
                  <span class="btn btn-primary" (click)="ajouterTache()">
                      <i class="fa fa-plus"></i>
                  </span>
              </div>
            </div>
        </div>
        <div class="card-body">
  
         
          <table class="table table-hover">
        
            <thead class="blue lighten-4">
              <tr>
                <th>id</th>
                <th>sujet</th>
                <th>date debut</th>
                <th>Date fin</th>
              </tr>
            </thead>
            <!-- Table head -->
  
            <!-- Table body -->
            <tbody *ngFor="let tache of taches">
             
                  <tr  class="waves-light" data-toggle="modal" data-target="#basicExample" (click)="modif(tache.id);centralLarge.show()">
                    
                      <td>{{tache.id}}</td>
                      <td>{{tache.sujet}}</td>
                      <td>{{tache.dateDebut}}</td>
                      <td>{{tache.dateFin}}</td>
                    </tr>
            
              
              
            </tbody>
            <!-- Table body -->
          </table>
          <!-- Table  -->
  
        </div>
  
      </div>
      <!--/.Card-->
  
    </div>
    <!--Grid column-->
  
  </div>
  <div class="col-md-12 mb-4">

    <!--Card-->
    <div class="card">
        <div class="card-header">
            Rapport des operations sur le compte
        </div>
      <!--Card content-->
      <div class="card-body">

        <div style="display: block">
          <canvas mdbChart [chartType]="chart3Type" [datasets]="chartDatasets" [labels]="chartLabels" [colors]="chartColors" [options]="chartOptions"
            [legend]="true">
          </canvas>
        </div>
      </div>

    </div>
    <!--/.Card-->

  </div>
  <div class="row wow fadeIn mt-5">
      <div class="col-md-6 mb-4">
  
          <!--Card-->
          <div class="card">
              <div class="card-header">
                  Liste operation effectue sur le compte
                </div>
            <!--Card content-->
            <div class="card-body">
      
              <!-- Table  -->
              <table class="table table-hover">
                <!-- Table head -->
                <thead class="blue-grey lighten-4">
                  <tr>
                    <th>type operation</th>
                    <th>titre</th>
                    <th>Date operation</th>
                    <th>quantite</th>

                    <th>prix</th>
                    
                  </tr>
                </thead>
                <!-- Table head -->
      
                <!-- Table body -->
                <tbody *ngFor="let operation of operations | slice:operations.length-5:operations.length">
                
                      <tr class="waves-light" data-toggle="modal" data-target="#basicExample" (click)="getOrdreById(operation.idOrdre);centralOperation.show()">
                   
                          <td>{{operation.typeOrde}}</td>
                          <td>{{operation.codeTitre}}</td>
                          <td>{{operation.dateOrde}}</td>
                          <td>{{operation.quantite}}</td>
                          <td>{{operation.valUnitaire}}</td>
                        </tr>
               
                
                 
                </tbody>
                <!-- Table body -->
              </table>
              <!-- Table  -->
              <div class="row">
                <button type="button" class="btn btn-secondary btn-sm waves-light" data-dismiss="modal" (click)="voirPlusOperation.show()" mdbWavesEffect>voir plus</button>

              </div>
            </div>
      
          </div>
          <!--/.Card-->
      
        </div>
        <div class="col-md-6 mb-4">
  
          <!--Card-->
          <div class="card">
              <div class="card-header">
                 Reclamations du client
                </div>
            <!--Card content-->
            <div class="card-body">
      
              <!-- Table  -->
              <table class="table table-hover">
                <!-- Table head -->
                <thead class="blue-grey lighten-4">
                  <tr>
                    <th>date</th>
                    <th>sujet</th>
                    <th>statut</th>
                  </tr>
                </thead>
              
                  <tbody *ngFor="let reclamention of reclamentions | slice:0:5">
                    <tr class="waves-light" data-toggle="modal" data-target="#basicExample" (click)="voirReclamention(reclamention.idReclamention);centralReclamention.show()">
                    
                      <td>{{reclamention.dateReclamention | date}}</td>
                      <td>{{reclamention.statut}}</td>
                      <td>{{reclamention.description}}</td>
                      
                    </tr>
                  
                  </tbody>
             
              </table>  
             
      
            </div>
      
          </div>
          <!--/.Card-->
      
        </div>
        <div class="col-md-12 mb-4">

          <!--Card-->
          <div class="card">
              <div class="card-header">
                  Evolution du portefeuille client
              </div>
            <!--Card content-->
            <div class="card-body">
        
              <div style="display: block">
                <canvas mdbChart [chartType]="chart3Type" [datasets]="chartDatasets1" [labels]="chartLabels" [colors]="chartColors" [options]="chartOptions"
                  [legend]="true">
                </canvas>
              </div>
            </div>
        
          </div>
          <!--/.Card-->
        
        </div>
  </div>
 
<!--Grid row-->

<div class="col-md-3">

    <div mdbModal #centralOperation="mdb-modal" class="modal fade" id="basicExample" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
      aria-hidden="true" [config]="{backdrop: true, ignoreBackdropClick: false}">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
          Detail operation
          </div>
          <div class="modal-body">
              <table class="table table-hover">
                  <!-- Table head -->
                  <thead class="blue-grey lighten-4">
                    <tr>
                      <th>type operation</th>
                      <th>titre</th>
                      <th>Date operation</th>
                      <th>quantite</th>
                      <th>prix Unitaire</th>
                      <th>Montant</th>
                      <th>quantite execute</th>
                      <th>agence</th>
                      <th>date valide</th>
                      <th></th>
                      
                    </tr>
                  </thead>
                  <!-- Table head -->
        
                  <!-- Table body -->
                  <tbody >
                  
                        <tr *ngIf="operation!=null">
                     
                            <td>{{operation.typeOrde}}</td>
                            <td>{{operation.codeTitre}}</td>
                            <td>{{operation.dateOrde}}</td>
                            <td>{{operation.quantite}}</td>
                            <td>{{operation.valUnitaire}}</td>
                            <td>{{operation.montant}}</td>
                            <td>{{operation.quantiteExecute}}</td>
                            <td>{{operation.agence}}</td>
                            <td>{{operation.dateValid}}</td>
                          </tr>
                 
                  
                   
                  </tbody>
                  <!-- Table body -->
                </table>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary btn-sm waves-light" data-dismiss="modal" (click)="centralLarge.hide()" mdbWavesEffect>Close</button>
           
          </div>
        </div>
      </div>
  </div>
  <div class="col-md-3">

    <div mdbModal #detailPorte="mdb-modal" class="modal fade" id="basicExample" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
      aria-hidden="true" [config]="{backdrop: true, ignoreBackdropClick: false}">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
          Detail Portefeuille
          </div>
          <div class="modal-body">
              <div style="overflow-y:scroll;height: 800px;">
                <table class="table table-hover">
                    <!-- Table head -->
                    <thead class="blue-grey lighten-4">
                      <tr>
                        <th>Code Titre</th>
                        <th>Quantite</th>
                        <th>Prix du jour</th>
                        <th>Montant</th>
                        <th>cmp</th>
                        
                    
                        
                      </tr>
                    </thead>
                    <!-- Table head -->
          
                    <!-- Table body -->
                    <tbody *ngIf="titre!=null">
                    
                          <tr *ngFor="let t of titre">
                            <th>{{t.codeTitre}}</th>
                            <th>{{t.quantite}}</th>
                            <th>{{t.prixDuJour}}</th>
                            <th>{{t.montant}}</th>
                            <th>{{t.cmp}}</th>
                              
                          </tr>
                  
                    
                    
                    </tbody>
                    <!-- Table body -->
                  </table>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary btn-sm waves-light" data-dismiss="modal" (click)="detailPorte.hide()" mdbWavesEffect>Close</button>
           
          </div>
        </div>
      </div>
  </div>
  
  <div mdbModal #sideTopRight="mdb-modal" class="modal fade right" id="centralModalSm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-side modal-top-right" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100" id="myModalLabel">Modal title</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="sideTopRight.hide()">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        
          <div *ngIf="currentFileUpload" class="progress">
            <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" attr.aria-valuenow="{{progress.percentage}}"
              aria-valuemin="0" aria-valuemax="100" [ngStyle]="{width:progress.percentage+'%'}">
              {{progress.percentage}}%</div>
          </div>  

       <form enctype="multipart/form-data">
         <div class="form-group">
            <label for="">Choisir un fichier</label>
            <input type="file" class="form-control" (change)="selectFile($event)">
         </div>
        
       </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary waves-light" data-dismiss="modal" (click)="sideTopRight.hide()" mdbWavesEffect>Close</button>
        <button type="button" class="btn btn-primary waves-light" mdbWavesEffect (click)="upload()">Save changes</button>
      </div>
    </div>
  </div>
</div>


 
<div class="col-md-3">

  <div mdbModal #voirPlusOperation="mdb-modal" class="modal fade" id="basicExample" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true" [config]="{backdrop: true, ignoreBackdropClick: false}">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
       Liste des operations
        </div>
        <div class="modal-body" >
          <div style="overflow-y:scroll;height: 800px;">
          <table class="table table-hover" >
            <!-- Table head -->
            <thead class="blue-grey lighten-4">
              <tr>
                <th>type operation</th>
                <th>titre</th>
                <th>Date operation</th>
                <th>quantite</th>
                <th>Val unitaire</th>
                
              </tr>
            </thead>
            <!-- Table head -->
  
            <!-- Table body -->
            <tbody *ngFor="let operation of operations ">
            
                  <tr class="waves-light" data-toggle="modal" data-target="#basicExample" (click)="voirPlusOperation.hide();getOrdreById(operation.idOrdre);centralOperation.show()">
               
                      <td>{{operation.typeOrde}}</td>
                      <td>{{operation.codeTitre}}</td>
                      <td>{{operation.dateOrde}}</td>
                      <td>{{operation.quantite}}</td>
                      <td>{{operation.valUnitaire}}</td>
                    </tr>
           
            
             
            </tbody>
            <!-- Table body -->
          </table>
        </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary btn-sm waves-light" data-dismiss="modal" (click)="voirPlusOperation.hide()" mdbWavesEffect>Close</button>
         
        </div>
      </div>
    </div>
</div>

<div class="col-md-3">

    <div mdbModal #AddReclamention="mdb-modal" class="modal fade" id="basicExample" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
      aria-hidden="true" [config]="{backdrop: true, ignoreBackdropClick: false}">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
         Ajouter une reclamention
          </div>
          <div class="modal-body" >
            
              <div class="row" *ngIf="reclamention!=null">
                  <div class="col-md-2">

                  </div>
                      <div class="col-md-10">
                         <form >
                           <div class="form-row">
                            <div class="col-md-6">
                                <label for="">sujet</label>
                                <input type="text" name="statut" class="form-control" [(ngModel)]="reclamention.statut">
                            </div>
                          
                           </div>
                           
                             <div class="form-row">
                                <div class="form-group col-md-6">
                                  <label for="">Description</label>
                                   <textarea class="form-control" name="description"  [(ngModel)]="reclamention.description"></textarea>
                                </div>
                            </div>
                           
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                  <label for="">Inviter un autre utilisateur</label>
                                 
                                      <select class="form-control" [(ngModel)]="userInvited" name="userInvited">
                                        
                                            <option *ngFor="let user of users" [ngValue]="user.username">{{user.prenom}} {{user.nom}}</option>
                                        
                                          
                                      </select>
                                 
                                   
                                </div>
                            </div>
                            <button type="submit" class="btn btn-success" (click)="saveReclamention()"> <i class="fa fa-plus mr-3"></i>Ajouter</button>
                            <button type="reset" class="btn btn-primary">Annuler</button>
                          
                           
                  
                         </form>
                        </div>
           </div>
          </div>
           
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary btn-sm waves-light" data-dismiss="modal" (click)="voirPlusOperation.hide()" mdbWavesEffect>Close</button>
           
          </div>
        </div>
      </div>
  </div>
  <div class="col-md-3">

      <div mdbModal #centralReclamention="mdb-modal" class="modal fade" id="basicExample" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true" [config]="{backdrop: true, ignoreBackdropClick: false}">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
            Detail Portefeuille
            </div>
            <div class="modal-body">
               
                  <table class="table table-hover">
                      <!-- Table head -->
                      <thead class="blue-grey lighten-4">
                          <tr>
                            <th>date</th>
                            <th>sujet</th>
                            <th>statut</th>
                          </tr>
                        </thead>
                      
                          <tbody >
                            <tr class="waves-light">
                            
                              <td>{{reclamention.dateReclamention | date}}</td>
                              <td>{{reclamention.statut}}</td>
                              <td>{{reclamention.description}}</td>
                              
                            </tr>
                          
                          </tbody>
                      <!-- Table body -->
                    </table>
              
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary btn-sm waves-light" data-dismiss="modal" (click)="centralReclamention.hide()" mdbWavesEffect>Close</button>
             
            </div>
          </div>
        </div>
    </div>


<app-stats-card2></app-stats-card2>